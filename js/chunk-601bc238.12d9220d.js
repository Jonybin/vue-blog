(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-601bc238"],{"0e31":function(e,t,n){e.exports={appColor:"#42b983",appColorRGB:"66, 185, 131"}},"11e9":function(e,t,n){var i=n("52a7"),o=n("4630"),r=n("6821"),a=n("6a99"),c=n("69a8"),s=n("c69a"),l=Object.getOwnPropertyDescriptor;t.f=n("9e1e")?l:function(e,t){if(e=r(e),t=a(t,!0),s)try{return l(e,t)}catch(n){}if(c(e,t))return o(!i.f.call(e,t),e[t])}},2315:function(e,t,n){"use strict";var i=n("7e99"),o=n.n(i);o.a},"5c4f":function(e,t,n){"use strict";var i=n("dbe4"),o=n.n(i);o.a},"5dbc":function(e,t,n){var i=n("d3f4"),o=n("8b975").set;e.exports=function(e,t,n){var r,a=t.constructor;return a!==n&&"function"==typeof a&&(r=a.prototype)!==n.prototype&&i(r)&&o&&o(e,r),e}},7507:function(e,t,n){"use strict";var i=n("0e31"),o=n.n(i);o.a},"7e99":function(e,t,n){e.exports={appColor:"#42b983",appColorRGB:"66, 185, 131"}},"8b975":function(e,t,n){var i=n("d3f4"),o=n("cb7c"),r=function(e,t){if(o(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{i=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),i(e,[]),t=!(e instanceof Array)}catch(o){t=!0}return function(e,n){return r(e,n),t?e.__proto__=n:i(e,n),e}}({},!1):void 0),check:r}},9093:function(e,t,n){var i=n("ce10"),o=n("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,o)}},aa77:function(e,t,n){var i=n("5ca1"),o=n("be13"),r=n("79e5"),a=n("fdef"),c="["+a+"]",s="​",l=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),p=function(e,t,n){var o={},c=r(function(){return!!a[e]()||s[e]()!=s}),l=o[e]=c?t(f):a[e];n&&(o[n]=l),i(i.P+i.F*c,"String",o)},f=p.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(u,"")),e};e.exports=p},b4bc:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"editor"}},[n("div",{staticClass:"app-introduce"},[e._v("\n        "+e._s(e.$t("editor.description"))+"\n        "),n("a",{attrs:{href:"https://github.com/tinymce/tinymce",target:"_blank"}},[e._v("tinymce")])]),n("tinymce",{attrs:{height:500},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}}),e.content?n("div",{staticClass:"result-container"},[n("div",{staticClass:"editor-result",domProps:{innerHTML:e._s(e.content)}}),n("div",{staticClass:"editor-html"},[e._v(e._s(e.content))])]):e._e()],1)},o=[],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{height:e.height+"px"},attrs:{id:"tinymce"}},[n("textarea",{attrs:{id:e.tinymceId}}),n("el-button",{staticClass:"uploadImage-button",class:{fullscreen:e.fullscreen},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(t){e.uploadImageVisible=!0}}},[e._v("上传图片")]),e.uploadImageVisible?n("my-upload-image",{on:{complete:e.inserPicture,close:function(t){e.uploadImageVisible=!1}}}):e._e()],1)},a=[],c=(n("ac6a"),n("c5f6"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{staticClass:"uploadPicture",attrs:{visible:e.visible,title:"上传图片"},on:{"update:visible":function(t){e.visible=t}}},[n("div",[n("el-upload",{ref:"upload",attrs:{action:"https://httpbin.org/post","list-type":"picture-card",multiple:!0,"before-upload":e.uploadBefore,"on-success":e.onSuccess,"on-error":e.onError,"on-remove":e.onRemove,"on-preview":e.onPreview}},[n("i",{staticClass:"el-icon-plus"})]),n("el-dialog",{attrs:{visible:e.preViewVisible,modal:!1,"append-to-body":"",width:e.preViewDialogWidth,title:e.preViewImageSize},on:{"update:visible":function(t){e.preViewVisible=t}}},[n("img",{ref:"previewImg",attrs:{width:"100%",src:e.preViewURL}})])],1),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{staticClass:"cancle_btn",on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.complete}},[e._v("确 定")])],1)])}),s=[],l={name:"uploadPicture",data:function(){return{uploadFileList:[],visible:!0,preViewVisible:!1,preViewURL:"",preViewDialogWidth:"",preViewImageSize:""}},watch:{visible:function(e){e||this.$emit("close",!1)}},methods:{uploadBefore:function(e){var t="image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type,n=e.size/1024/1024<5;return t?n||this.$message.error("上传图片大小不能超过 2MB"):this.$message.error("目前只支持 jpg / png / gif 的图片格式"),t&&n},onSuccess:function(e,t,n){this.uploadFileList=n},onError:function(e,t,n){console.log("上传图片失败",e),this.$message.error("上传失败，请重新尝试!")},onRemove:function(e,t){this.uploadFileList=t},onPreview:function(e){var t=this,n=window.innerWidth,i=new Image;i.src=this.preViewURL=e.url;var o=setInterval(function(){if(i.width&&i.height){var e=i.width+40;t.preViewDialogWidth=e>n?"100%":e<300?"300px":e+"px",t.preViewImageSize=i.width+"x"+i.height,clearInterval(o)}},50);this.preViewVisible=!0},complete:function(){var e=[],t=!0;this.uploadFileList.forEach(function(n,i){n.response?e.push(n.response.files.file):t=!1}),t||this.$message.warning("部分图片没有上传成功，请重新尝试"),this.$emit("complete",e),this.visible=!1}}},u=l,p=(n("7507"),n("2877")),f=Object(p["a"])(u,c,s,!1,null,null,null),d=f.exports,h={name:"tinymce",components:{"my-upload-image":d},props:{value:{type:String,default:""},height:{type:Number,default:360},draft:{type:Boolean,default:!1}},data:function(){return{tinymceId:"vue-tinymce-".concat((new Date).getTime()),fullscreen:!1,uploadImageVisible:!1}},mounted:function(){this.initTinymce()},beforeDestroy:function(){var e=window.tinymce.get(this.tinymceId);this.fullscreen&&e.execCommand("mceFullScreen"),e&&e.destroy()},methods:{initTinymce:function(){var e=this;window.tinymce.init({language:"zh_CN",selector:"#".concat(this.tinymceId),height:this.height,plugins:["advlist anchor autolink autosave code codesample directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textpattern visualblocks visualchars wordcount"],toolbar:["insertfile undo redo | formatselect | forecolor backcolor bold italic underline strikethrough subscript superscript removeformat | alignleft aligncenter alignright alignjustify | bullist numlist","link image media emoticons table anchor hr | print preview fullscreen"],end_container_on_empty_block:!0,object_resizing:!1,powerpaste_word_import:"clean",default_link_target:"_blank",nonbreaking_force_tab:!0,link_title:!1,init_instance_callback:function(t){e.value&&t.setContent(e.value),e.handleDraft("get"),t.on("NodeChange Change KeyUp SetContent",function(){e.$emit("input",t.getContent()),e.handleDraft("set")})},setup:function(t){t.on("FullscreenStateChanged",function(t){e.fullscreen=t.state})}})},handleDraft:function(e){if(this.draft){var t="draft-".concat(this.$cache.getToken());if("get"===e){var n=this.$cache.getLocal(t);n&&(this.setContent(n),this.draftVisible=!0)}else if("set"===e){var i=this.getContent();this.$cache.setLocal(t,i)}else"remove"===e&&(this.$cache.removeLocal(t),this.setContent(this.value),this.draftVisible=!1)}},setContent:function(e){window.tinymce.get(this.tinymceId).setContent(e)},getContent:function(){return window.tinymce.get(this.tinymceId).getContent()},inserPicture:function(e){var t=this;e.forEach(function(e){window.tinymce.get(t.tinymceId).insertContent('<img class="wscnph" src="'.concat(e,'" >'))})}}},m=h,g=(n("2315"),Object(p["a"])(m,r,a,!1,null,null,null)),v=g.exports,b={name:"editor",components:{Tinymce:v},data:function(){return{content:""}}},y=b,w=(n("5c4f"),Object(p["a"])(y,i,o,!1,null,null,null));t["default"]=w.exports},c5f6:function(e,t,n){"use strict";var i=n("7726"),o=n("69a8"),r=n("2d95"),a=n("5dbc"),c=n("6a99"),s=n("79e5"),l=n("9093").f,u=n("11e9").f,p=n("86cc").f,f=n("aa77").trim,d="Number",h=i[d],m=h,g=h.prototype,v=r(n("2aeb")(g))==d,b="trim"in String.prototype,y=function(e){var t=c(e,!1);if("string"==typeof t&&t.length>2){t=b?t.trim():f(t,3);var n,i,o,r=t.charCodeAt(0);if(43===r||45===r){if(n=t.charCodeAt(2),88===n||120===n)return NaN}else if(48===r){switch(t.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+t}for(var a,s=t.slice(2),l=0,u=s.length;l<u;l++)if(a=s.charCodeAt(l),a<48||a>o)return NaN;return parseInt(s,i)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof h&&(v?s(function(){g.valueOf.call(n)}):r(n)!=d)?a(new m(y(t)),n,h):y(t)};for(var w,_=n("9e1e")?l(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;_.length>I;I++)o(m,w=_[I])&&!o(h,w)&&p(h,w,u(m,w));h.prototype=g,g.constructor=h,n("2aba")(i,d,h)}},dbe4:function(e,t,n){e.exports={appColor:"#42b983",appColorRGB:"66, 185, 131"}},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);